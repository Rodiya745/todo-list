<!DOCTYPE html>
<html lang="en">
<head>
  <title>To do listðŸŒ¸</title>
  <link rel="icon" type="image/png" href="https://i.imgur.com/8Cfmpen.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Mystery+Quest&display=swap');
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: "Mystery Quest", system-ui;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      background: url('https://i.pinimg.com/originals/76/c0/a8/76c0a814cf966cc2c5093ed8064ac505.gif') no-repeat center fixed;
      background-size: cover;
    }
    .container {
      display: flex;
      justify-content: center;
      align-items: center;
      width: 100%;
      height: 100%;
      padding: 0 20px;
    }
    .todo-app {
      width: 100%;
      max-width: 400px;
      padding: 2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 30px;
      color: #fff;
      border-radius: 20px;
      box-shadow: 0 0 100px rgba(0,0,0,0.5);
      border: 3px solid rgba(225,225,225,0.18);
      backdrop-filter: blur(10px);
    }
    .input-area {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }
    .input-area input {
      flex: 1;
      padding: 10px 17px;
      font-size: 1.1rem;
      border: none;
      outline: none;
      border-radius: 22px;
      background: rgba(225,194,209,0.3);
      color: #dbdbdb;
    }
    .input-area input::placeholder {
      color: #bcbcbc;
    }
    .input-area button {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: 10px;
      padding: 8px;
      border-radius: 50%;
      color: #fff;
      font-size: 1.1rem;
      background: rgba(225, 194, 209, 0.3);
      border: 2px solid rgba(225, 225, 225, 0.18);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .input-area button:hover {
      transform: scale(1.1);
      background: #ff6f91;
    }
    .todos-container {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #task-list {
      width: 100%;
      list-style: none;
    }
    #task-list li {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-family: optima;
      background: rgba(225,194,209,0.3);
      margin-bottom: 10px;
      padding: 8px 10px;
      border-radius: 30px;
      font-size: 1.2rem;
      position: relative;
      transition: box-shadow 0.2s ease;
    }
    #task-list li:hover {
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    #task-list li .checkBox {
      min-width: 20px;
      height: 20px;
      border: 2px solid rgba(225,225,225,0.3);
      background: transparent;
      border-radius: 50%;
      appearance: none;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    #task-list li .checkBox:checked {
      background: #ff6f91;
      transform: scale(1.1);
    }
    #task-list li .checkBox:checked::before {
      content: '\2713';
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 1rem;
    }
    #task-list li span {
      flex: 1;
      margin-left: 10px;
      word-wrap: break-word;
    }
    #task-list li.completed span {
      text-decoration: line-through;
      color: #000;
    }
    .task-buttons {
      display: flex;
      gap: 10px;
      margin-right: auto;
    }
    .task-buttons button {
      background: rgba(225,194,209,0.3);
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      color: #fff;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .task-buttons button:hover {
      transform: scale(1.2);
    }
    .task-buttons .edit-btn {
      background: #ffbf00;
    }
    .task-buttons .delete-btn {
      background: #ff6f91;
    }
    .stat-container {
      padding: 15px 20px;
      border-radius: 10px;
      border: 2px solid rgba(225,225,225,0.18);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
      width: 100%;
    }
    .details {
      width: 100%;
    }
    #progressbar {
      width: 100%;
      height: 7px;
      background: rgba(225,194,209,0.3);
      border-radius: 20px;
      position: relative;
      margin-top: 15px;
    }
    #progress {
      width: 0%;
      height: 100%;
      background: #ff6f91;
      border-radius: 20px;
      transition: width 0.3s ease;
    }
    #numbers {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 80px;
      height: 80px;
      background: gray;
      font-weight: bold;
      border-radius: 50%;
      font-size: 1.5rem;
    }
    .empty-image {
      display: block;
      margin-top: 20px;
      width: 50px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="todo-app">
      <h1>To-Do-List</h1>
      <div class="stat-container">
        <div class="details">
          <h3>You Can Do This!!</h3>
          <div id="progressbar">
            <div id="progress"></div>
          </div>
        </div>
        <div class="stat-number">
          <p id="numbers">0/0</p>
        </div>
      </div>
      <form class="input-area">
        <input type="text" id="task-input" placeholder="Add a new task..">
        <button type="submit" id="add-task-btn"><i class="fa-solid fa-plus"></i></button>
      </form>
      <div class="todos-container">
        <ul id="task-list"></ul>
      </div>
      <img class="empty-image" src="https://www.svgrepo.com/show/530380/record.svg" alt="empty">
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const taskInput = document.getElementById('task-input');
      const taskList = document.getElementById('task-list');
      const emptyImage = document.querySelector('.empty-image');
      const form = document.querySelector('.input-area');
      const todosContainer = document.querySelector('.todos-container');
      const progress = document.getElementById('progress');
      const numbers = document.getElementById('numbers');

      const shootConfetti = () => {
        const defaults = {
          spread: 360,
          ticks: 50,
          gravity: 0,
          decay: 0.94,
          startVelocity: 30,
          shapes: ["star"],
          colors: ["#FFE400", "#FFBD00", "#E89400", "#FFCA6C", "#FDFFB8"]
        };

        confetti({ ...defaults, particleCount: 40, scalar: 1.2 });
        confetti({ ...defaults, particleCount: 10, scalar: 0.75, shapes: ["circle"] });
      };

      const toggleEmptyState = () => {
        emptyImage.style.display = taskList.children.length === 0 ? 'block' : 'none';
        todosContainer.style.width = taskList.children.length > 0 ? '100%' : '50%';
        updateStats();
      };

      const updateStats = () => {
        const tasks = taskList.querySelectorAll('li');
        const completed = taskList.querySelectorAll('li.completed');
        const percent = tasks.length > 0 ? (completed.length / tasks.length) * 100 : 0;
        progress.style.width = `${percent}%`;
        numbers.textContent = `${completed.length}/${tasks.length}`;

        if (tasks.length > 0 && completed.length === tasks.length) {
          shootConfetti();
        }
      };

      const addTask = (text, completed) => {
        const taskText = text || taskInput.value.trim();
        if (!taskText) return;

        const li = document.createElement('li');
        li.innerHTML = `
          <input type="checkbox" class="checkBox" ${completed ? 'checked' : ''}/>
          <span>${taskText}</span>
          <div class="task-buttons">
            <button class="edit-btn"><i class="fa-solid fa-pencil"></i></button>
            <button class="delete-btn"><i class="fa-solid fa-trash"></i></button>
          </div>
        `;

        const checkBox = li.querySelector('.checkBox');
        const editBtn = li.querySelector('.edit-btn');
        const deleteBtn = li.querySelector('.delete-btn');

        if (completed) {
          li.classList.add('completed');
          editBtn.disabled = true;
          editBtn.style.opacity = '0.5';
          editBtn.style.pointerEvents = 'none';
        }

        checkBox.addEventListener('change', () => {
          const isChecked = checkBox.checked;
          li.classList.toggle('completed', isChecked);
          editBtn.disabled = isChecked;
          editBtn.style.opacity = isChecked ? '0.5' : '1';
          editBtn.style.pointerEvents = isChecked ? 'none' : 'auto';
          updateStats();
        });

        editBtn.addEventListener('click', () => {
          if (!checkBox.checked) {
            taskInput.value = li.querySelector('span').textContent;
            li.remove();
            toggleEmptyState();
          }
        });

        deleteBtn.addEventListener('click', () => {
          li.remove();
          toggleEmptyState();
        });

        taskList.appendChild(li);
        taskInput.value = '';
        toggleEmptyState();
      };

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        addTask();
      });

      toggleEmptyState();
    });
  </script>
</body>
</html>
